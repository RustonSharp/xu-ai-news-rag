# 前端独立运行指南

## 📋 概述

本指南将帮助你在没有后端服务的情况下运行前端应用。我们已经为你配置了完整的 Mock 数据系统，让你可以体验完整的功能。

## 🚀 快速启动

### 方法一：使用启动脚本（推荐）

```bash
# 进入前端目录
cd frontend

# 运行启动脚本
./start-dev.sh
```

### 方法二：手动启动

```bash
# 1. 安装依赖
npm install

# 2. 启动开发服务器
npm run dev
```

## 🔧 配置说明

### 环境变量

项目使用 `.env.development` 文件配置开发环境：

```env
# Mock 模式开关（设置为 true 启用 Mock 数据）
VITE_USE_MOCK=true

# API 基础地址（Mock 模式下不会实际请求）
VITE_API_BASE_URL=http://localhost:3001/api

# 应用配置
VITE_APP_TITLE=徐AI新闻RAG系统
VITE_APP_VERSION=1.0.0
```

### Mock 数据配置

Mock 数据位于 `src/mock/server.js`，包含：

- **用户认证**: 登录、注册、登出
- **文档管理**: 文档列表、上传、删除
- **智能搜索**: 语义搜索、AI 问答
- **数据采集**: RSS 源管理、网页爬取
- **数据分析**: 统计概览、趋势分析

## 🎯 功能演示

### 1. 用户登录

- **测试账号**: `admin@example.com`
- **测试密码**: `admin123`
- **功能**: 完整的登录流程，包含 token 管理

### 2. 文档管理

- **文档列表**: 查看预设的示例文档
- **文档上传**: 模拟文件上传过程（带进度条）
- **文档删除**: 删除文档功能
- **搜索过滤**: 按标题搜索文档

### 3. 智能搜索

- **语义搜索**: 输入查询词，返回相关文档
- **AI 问答**: 与 AI 助手对话，获取智能回答
- **结果展示**: 显示搜索结果和相关性评分

### 4. 数据采集

- **RSS 源管理**: 添加、编辑、删除 RSS 数据源
- **网页爬取**: 配置网页爬取任务
- **状态监控**: 查看数据源同步状态

### 5. 数据分析

- **统计概览**: 文档数量、查询次数等关键指标
- **趋势图表**: 使用 Recharts 展示数据趋势
- **系统健康**: 系统运行状态监控

## 🛠️ 技术架构

### Mock 系统架构

```
src/
├── mock/
│   └── server.js          # Mock 数据和 API 逻辑
├── api/
│   ├── request.js          # 请求拦截器（支持 Mock 模式）
│   ├── modules/            # API 模块封装
│   └── index.js           # 统一导出
└── pages/                  # 页面组件
```

### Mock 模式工作原理

1. **环境检测**: 通过 `VITE_USE_MOCK` 环境变量控制
2. **请求拦截**: 在 axios 请求拦截器中判断是否使用 Mock
3. **路由匹配**: 根据请求路径和方法匹配对应的 Mock 函数
4. **数据模拟**: 返回预设的模拟数据，包含适当的延迟
5. **错误处理**: 模拟各种错误场景

## 📱 访问信息

- **前端地址**: http://localhost:5173
- **开发工具**: Vite + React
- **UI 框架**: 自定义组件 + Tailwind CSS
- **图表库**: Recharts
- **图标库**: Lucide React

## 🔄 切换到真实后端

当后端服务准备就绪时，只需要：

1. **修改环境变量**:

   ```env
   VITE_USE_MOCK=false
   VITE_API_BASE_URL=http://localhost:5001/api
   ```

2. **重启开发服务器**:
   ```bash
   npm run dev
   ```

## 🐛 常见问题

### Q: 页面显示网络错误？

**A**: 确保 `.env.development` 文件中 `VITE_USE_MOCK=true`

### Q: 登录失败？

**A**: 使用测试账号 `admin@example.com` 和密码 `admin123`

### Q: 上传文件没有反应？

**A**: Mock 模式下会模拟上传过程，请等待进度条完成

### Q: 如何添加新的 Mock 数据？

**A**: 编辑 `src/mock/server.js` 文件，在对应的模块中添加数据

### Q: 如何修改 Mock API 的响应？

**A**: 在 `src/mock/server.js` 中找到对应的函数，修改返回值

## 📞 技术支持

如果遇到问题，请检查：

1. Node.js 版本是否 >= 16
2. 依赖是否正确安装
3. 环境变量配置是否正确
4. 浏览器控制台是否有错误信息

---

**享受开发过程！** 🎉
